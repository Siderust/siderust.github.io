---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import Icon from '../components/Icon.astro';
import { config } from '../lib/config';
import { getProjects } from '../lib/projects';
import { withBase } from '../lib/utils';

const projects = await getProjects();
---

<BaseLayout title={config.org.tagline} description={config.org.description}>
  <section class="relative overflow-hidden bg-hero-gradient">
    <div class="mx-auto flex w-full max-w-6xl flex-col gap-12 px-6 py-20 sm:py-28">
      <div class="flex flex-col gap-6">
        <p class="inline-flex w-fit items-center gap-2 rounded-full border border-blue-200/60 bg-blue-50 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-blue-600 dark:border-blue-500/20 dark:bg-blue-500/10 dark:text-blue-200">
          <Icon name="sparkles" class="h-4 w-4" />
          Open-source Rust collective
        </p>
        <h1 class="text-4xl font-semibold leading-tight text-slate-900 dark:text-white sm:text-5xl">
          {config.org.name}
        </h1>
        <p class="text-sm font-semibold uppercase tracking-[0.2em] text-blue-500/80 dark:text-blue-300/80">
          {config.org.tagline}
        </p>
        <p class="max-w-2xl text-lg text-slate-600 dark:text-slate-300">
          {config.org.description}
        </p>
        <div class="flex flex-wrap gap-4">
          <a
            class="inline-flex items-center gap-2 rounded-full bg-blue-600 px-5 py-3 text-sm font-semibold text-white shadow-soft motion-safe:transition motion-safe:hover:-translate-y-0.5 hover:bg-blue-500"
            href={withBase('/projects/')}
          >
            Explore Projects
            <Icon name="arrow-right" class="h-4 w-4" />
          </a>
          <a
            class="inline-flex items-center gap-2 rounded-full border border-slate-200 px-5 py-3 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900 dark:border-slate-800 dark:text-slate-200 dark:hover:text-white"
            href={config.org.url}
          >
            View on GitHub
            <Icon name="github" class="h-4 w-4" />
          </a>
        </div>
      </div>
      <div class="grid gap-6 md:grid-cols-3">
        <div class="card p-6">
          <p class="text-sm font-semibold text-slate-900 dark:text-white">Modern Rust crates</p>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">
            Production-ready foundations for services, CLIs, and data-heavy workflows.
          </p>
        </div>
        <div class="card p-6">
          <p class="text-sm font-semibold text-slate-900 dark:text-white">Purpose-built tooling</p>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">
            Utilities focused on reliability, observability, and delightful developer experience.
          </p>
        </div>
        <div class="card p-6">
          <p class="text-sm font-semibold text-slate-900 dark:text-white">Open community</p>
          <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">
            Designed for contributors who care about craftsmanship and clear documentation.
          </p>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="mx-auto w-full max-w-6xl px-6">
      <div class="flex flex-col gap-6 sm:flex-row sm:items-end sm:justify-between">
        <div>
          <p class="text-xs font-semibold uppercase tracking-[0.2em] text-blue-500/80 dark:text-blue-300/80">
            What we build
          </p>
          <h2 class="mt-2 text-3xl font-semibold text-slate-900 dark:text-white">Focused tools for modern Rust teams</h2>
        </div>
        <a class="inline-flex items-center gap-2 text-sm font-semibold text-blue-600 hover:text-blue-500 dark:text-blue-300 dark:hover:text-blue-200" href={withBase('/projects/')}>
          Browse all projects
          <Icon name="arrow-right" class="h-4 w-4" />
        </a>
      </div>
      <div class="mt-10 grid gap-6 lg:grid-cols-3">
        {projects.map((project) => (
          <ProjectCard project={project} />
        ))}
      </div>
    </div>
  </section>
</BaseLayout>
